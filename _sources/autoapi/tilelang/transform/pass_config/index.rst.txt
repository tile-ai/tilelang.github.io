tilelang.transform.pass_config
==============================

.. py:module:: tilelang.transform.pass_config


Classes
-------

.. autoapisummary::

   tilelang.transform.pass_config.PassConfigKey


Module Contents
---------------

.. py:class:: PassConfigKey

   Bases: :py:obj:`str`, :py:obj:`enum.Enum`


   Pass configuration keys for TileLang compiler.


   .. py:attribute:: TL_SIMPLIFY
      :value: 'tl.Simplify'


      Configuration for TileLang simplification passes.

      This is a dict-based config with the following options:
      - transitively_prove_inequalities: bool, default False
      - convert_boolean_to_and_of_ors: bool, default False
      - apply_constraints_to_boolean_branches: bool, default False
      - propagate_knowns_to_prove_conditional: bool, default False
      - propagate_knowns_to_simplify_expressions: bool, default False
      - enable_simplify_let_inline: bool, default True

      Usage:
          with tvm.transform.PassContext(config={
              "tl.Simplify": {"enable_simplify_let_inline": False}
          }):
              mod = tl.transform.Simplify()(mod)


   .. py:attribute:: TL_SIMPLIFY_TRANSITIVELY_PROVE_INEQUALITIES
      :value: 'transitively_prove_inequalities'


      False

      :type: Enable transitive inequality proving in simplification. Default


   .. py:attribute:: TL_SIMPLIFY_CONVERT_BOOLEAN_TO_AND_OF_ORS
      :value: 'convert_boolean_to_and_of_ors'


      False

      :type: Convert boolean expressions to AND of ORs form. Default


   .. py:attribute:: TL_SIMPLIFY_APPLY_CONSTRAINTS_TO_BOOLEAN_BRANCHES
      :value: 'apply_constraints_to_boolean_branches'


      False

      :type: Apply constraints to simplify boolean branches. Default


   .. py:attribute:: TL_SIMPLIFY_PROPAGATE_KNOWNS_TO_PROVE_CONDITIONAL
      :value: 'propagate_knowns_to_prove_conditional'


      False

      :type: Propagate known values to prove conditionals. Default


   .. py:attribute:: TL_SIMPLIFY_PROPAGATE_KNOWNS_TO_SIMPLIFY_EXPRESSIONS
      :value: 'propagate_knowns_to_simplify_expressions'


      False

      :type: Propagate known values to simplify expressions. Default


   .. py:attribute:: TL_SIMPLIFY_ENABLE_LET_INLINE
      :value: 'enable_simplify_let_inline'


      True

      :type: Enable inlining of let statements during simplification. Default


   .. py:attribute:: TL_DISABLE_DATA_RACE_CHECK
      :value: 'tl.disable_data_race_check'


      False

      :type: Disable data race check in TileLang. Default


   .. py:attribute:: TL_DISABLE_WARP_SPECIALIZED
      :value: 'tl.disable_warp_specialized'


      False

      :type: Disable warp specialization optimization. Default


   .. py:attribute:: TL_ENABLE_FAST_MATH
      :value: 'tl.enable_fast_math'


      False
      if enabled, --use_fast_math will be passed to nvcc

      :type: Enable fast math optimization. Default


   .. py:attribute:: TL_PTXAS_REGISTER_USAGE_LEVEL
      :value: 'tl.ptxas_register_usage_level'


      The PTXAS register usage level in [0, 10], which controls the
      aggressiveness of optimizations that affect register usage. Default: None


   .. py:attribute:: TL_ENABLE_PTXAS_VERBOSE_OUTPUT
      :value: 'tl.enable_ptxas_verbose_output'


      False

      :type: Enable ptxas verbose output. Default


   .. py:attribute:: TL_DEVICE_COMPILE_FLAGS
      :value: 'tl.device_compile_flags'


      Additional device compiler flags passed to nvcc/NVRTC.

      Accepts either a string (parsed with shell-like splitting) or a list of
      strings. Typical usage is to provide extra include paths, defines or
      ptxas options, e.g.:

      - "-I/opt/include -DMY_SWITCH=1 --ptxas-options=--verbose"
      - ["-I/opt/include", "-DMY_SWITCH=1", "--ptxas-options=--verbose"]

      These flags are appended to the compiler options used in the tvm_ffi
      CUDA compile callback. Default: None


   .. py:attribute:: TL_CONFIG_INDEX_BITWIDTH
      :value: 'tl.config_index_bitwidth'


      32

      :type: Bitwidth for configuration indices. Default


   .. py:attribute:: TL_DISABLE_TMA_LOWER
      :value: 'tl.disable_tma_lower'


      False

      :type: Disable TMA (Tensor Memory Access) lowering. Default


   .. py:attribute:: TL_DISABLE_SAFE_MEMORY_ACCESS
      :value: 'tl.disable_safe_memory_legalize'


      False

      :type: Disable safe memory access optimization. Default


   .. py:attribute:: TL_DISABLE_VECTORIZE_256
      :value: 'tl.disable_vectorize_256'


      False

      :type: Disable usage of LDG/STG 256. Default


   .. py:attribute:: TL_ENABLE_LOWER_LDGSTG
      :value: 'tl.enable_lower_ldgstg'


      Enable non-predicated LDG/STG lowering for global memory access.
      When enabled, converts Ramp-based global buffer load/store to ldg/stg intrinsics.
      Default: False


   .. py:attribute:: TL_ENABLE_LOWER_LDGSTG_PREDICATED
      :value: 'tl.enable_lower_ldgstg_predicated'


      Enable predicated LDG/STG lowering.
      When True, predicated loads (if_then_else with else=0) and
      predicated stores (IfThenElse with empty then case) are lowered to
      ldg/stg intrinsics. Default: False


   .. py:attribute:: TL_ENABLE_VECTORIZE_PLANNER_VERBOSE
      :value: 'tl.enable_vectorize_planner_verbose'


      Enable verbose output for vectorize planner. When enabled, prints detailed
      information about each buffer's inferred vector size and which buffer determines
      the final vectorization factor. Useful for debugging vectorization issues.
      Default: False


   .. py:attribute:: TL_DISABLE_WGMMA
      :value: 'tl.disable_wgmma'


      False

      :type: Disable usage of Hopper WGMMA. Default


   .. py:attribute:: TL_DEBUG_MERGE_SHARED_MEMORY_ALLOCATIONS
      :value: 'tl.debug_merge_shared_memory_allocations'


      False

      :type: Enable debug information for merge shared memory allocations. Default


   .. py:attribute:: TL_ENABLE_AGGRESSIVE_SHARED_MEMORY_MERGE
      :value: 'tl.enable_aggressive_shared_memory_merge'


      False

      :type: Enable aggressive merge of shared memory allocations. Default


   .. py:attribute:: TL_DISABLE_SHUFFLE_ELECT
      :value: 'tl.disable_shuffle_elect'


      False

      :type: Disable shuffle election optimization. Default


   .. py:attribute:: TL_DISABLE_LOOP_UNSWITCHING
      :value: 'tl.disable_loop_unswitching'


      False

      :type: Disable loop unswitching optimization. Default


   .. py:attribute:: TL_LOOP_UNSWITCHING_ALLOW_NON_TRIVIAL_ELSE
      :value: 'tl.loop_unswitching_allow_non_trivial_else'


      Allow loop unswitching even when the else-version of the loop body has side effects.

      This is more aggressive and may increase code size. Default: False.


   .. py:attribute:: TL_DISABLE_THREAD_STORAGE_SYNC
      :value: 'tl.disable_thread_storage_sync'


      Disable thread storage synchronization pass. When enabled, disables the
      automatic insertion of thread synchronization barriers (e.g., __syncthreads())
      for shared memory access coordination. This can be useful for performance
      optimization in cases where manual synchronization is preferred or when
      synchronization is not needed. Default: False


   .. py:attribute:: TL_FORCE_LET_INLINE
      :value: 'tl.force_let_inline'


      False

      :type: Force TileLang to inline let bindings during simplification. Default


   .. py:attribute:: TL_AST_PRINT_ENABLE
      :value: 'tl.ast_print_enable'


      False

      :type: Enable TIR AST printing for debugging purposes. Default


   .. py:attribute:: TL_LAYOUT_VISUALIZATION_ENABLE
      :value: 'tl.layout_visualization_enable'


      False

      :type: Enable layout inference visualization. Default


   .. py:attribute:: TL_LAYOUT_VISUALIZATION_FORMATS
      :value: 'tl.layout_visualization_formats'


      Layout visualization formats.
      Acceptable values: "pdf", "png", "svg", "all"


   .. py:attribute:: TL_STORAGE_REWRITE_DETECT_INPLACE
      :value: 'tl.storage_rewrite_detect_inplace'


      Control StorageRewrite inplace detection.

      When False (default) StorageRewrite keeps distinct temporaries for patterns
      such as `dst[i] = f(src[i])`, avoiding implicit aliasing:

      ```
      read = T.allocate([1], T.int32, "local.var")
      write = T.allocate([1], T.int32, "local.var")
      read_buf = T.Buffer((1,), T.int32, data=read, scope="local.var")
      write_buf = T.Buffer((1,), T.int32, data=write, scope="local.var")
      write_buf[0] = read_buf[0] * 2
      f(write_buf[0])
      ```

      Setting the flag to True allows StorageRewrite to reuse the `read` buffer
      for the write when it can prove the update is safely inplace, producing IR
      like:

      ```
      read = T.allocate([1], T.int32, "local.var")
      read_buf = T.Buffer((1,), T.int32, data=read, scope="local.var")
      read_buf[0] = read_buf[0] * 2
      f(read_buf[0])
      ```

      This reduces local memory usage but introduces aliasing between the buffers.

      Usage:

      ```python
      from tilelang.transform import PassContext, PassConfigKey

      with PassContext(
          config={PassConfigKey.TL_STORAGE_REWRITE_DETECT_INPLACE.value: True}
      ):
          mod = tilelang.transform.StorageRewrite()(mod)
      ```


   .. py:attribute:: TIR_ENABLE_EQUIV_TERMS_IN_CSE
      :value: 'tir.enable_equiv_terms_in_cse_tir'


      True

      :type: Enable equivalent terms in TIR Common Subexpression Elimination. Default


   .. py:attribute:: TIR_DISABLE_CSE
      :value: 'tir.disable_cse_tir'


      False

      :type: Disable TIR Common Subexpression Elimination. Default


   .. py:attribute:: TIR_SIMPLIFY
      :value: 'tir.Simplify'


      True

      :type: Enable/disable TIR simplification passes. Default


   .. py:attribute:: TIR_DISABLE_STORAGE_REWRITE
      :value: 'tir.disable_storage_rewrite'


      False

      :type: Disable storage rewrite optimization. Default


   .. py:attribute:: TIR_DISABLE_VECTORIZE
      :value: 'tir.disable_vectorize'


      False

      :type: Disable vectorization optimization. Default


   .. py:attribute:: TIR_USE_ASYNC_COPY
      :value: 'tir.use_async_copy'


      True

      :type: Enable asynchronous memory copy operations. Default


   .. py:attribute:: TIR_ENABLE_DEBUG
      :value: 'tir.enable_debug'


      False

      :type: Enable debug information in generated code. Default


   .. py:attribute:: TIR_MERGE_STATIC_SMEM
      :value: 'tir.merge_static_smem'


      True

      :type: Merge static shared memory allocations. Default


   .. py:attribute:: TIR_ADD_LOWER_PASS
      :value: 'tir.add_lower_pass'


      None

      :type: Additional lowering passes to be applied. Default


   .. py:attribute:: TIR_NOALIAS
      :value: 'tir.noalias'


      True

      :type: Enable pointer non-aliasing assumptions. Default


   .. py:attribute:: CUDA_KERNELS_OUTPUT_DIR
      :value: 'cuda.kernels_output_dir'


      empty string

      :type: Output directory for generated CUDA kernels. Default


   .. py:attribute:: TL_DISABLE_OUT_OF_BOUND_WARNING
      :value: 'tl.disable_out_of_bound_warning'


      False

      :type: Disable out-of-bound access warnings in safe memory access legalization. Default


